vm_stat | awk '/Pages active/ {active=$3} /Pages free/ {free=$3} /Pages wired down/ {wired=$4} /Pages speculative/ {speculative=$3} /Pages inactive/ {inactive=$3} /Pages purgeable/ {purgeable=$3} /Pages occupied by compressor/ {compressed=$5} /File-backed pages/ {print $3; files=$3} /Pageouts/ {pageout=$2} END { printf("%.2f", (active+inactive+wired+compressed+speculative-purgeable-files)*16384/1024/1024/1024)}'
